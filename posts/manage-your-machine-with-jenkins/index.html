<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Manage your machine with Jenkins - Hamilton Lima</title>
<meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://hamiltonlima.com/favicon.png><link rel=canonical href=https://hamiltonlima.com/posts/manage-your-machine-with-jenkins/><link rel=stylesheet href=/css/style.min.341d362bef2b6b1437e0cefb99a0cb7e4141b6954f8398c1b10275f699edc362.css><link rel=stylesheet href=/assets/css/extended.min.9729f28a5087b689b946e103d96abd63bfd37b1417effa251dbf798312e3fba5.css><meta property="og:title" content="Manage your machine with Jenkins"><meta property="og:type" content="website"><meta property="og:url" content="https://hamiltonlima.com/posts/manage-your-machine-with-jenkins/"><meta name=twitter:card content="summary"><meta name=twitter:site content="@athanazio"><meta name=twitter:creator content="@athanazio"><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&amp;display=swap" rel=stylesheet></head><body class='page frame page-blog-single'><div id=menu-main-mobile class=menu-main-mobile><ul class=menu><li class=menu-item-posts><a href=https://hamiltonlima.com/posts>Posts</a></li></ul></div><div id=wrapper class=wrapper><div class=header><a class=header-logo href=/>Hamilton Lima</a><div class=menu-main><ul><li class=menu-item-posts><a href=/posts><span>Posts</span></a></li></ul></div><div id=toggle-menu-main-mobile class=hamburger-trigger><button class=hamburger>Menu</button></div></div><div class=blog><div class=intro><h1>Manage your machine with Jenkins<span class=dot>.</span></h1></div><div class=content><p>On these days when Zuckberg is feeling like iron man, <a href=https://www.facebook.com/notes/mark-zuckerberg/building-jarvis/10154361492931634>@see building Jarvis</a>, I want to share a more modest automation :) Manage your machine with <a href=https://jenkins.io/>Jenkins</a> the powerfull build tool. Jenkins was created to automate builds and any sort of workflows after developers send their code to the server, so it&rsquo;s able to automate virtually anything, and that what I did used it on my own machine to automate some tasks:</p><ul><li>Remove some help files that the login script creates every single day on my desktop (yes I don&rsquo;t like any icons on my desktop)</li><li>Make a <a href=https://en.wikipedia.org/wiki/Differential_backup>differential backup</a> from my documents folder</li></ul><p>The steps are pretty simple: Install Jenkins, add projects & test, schedule, done.</p><h3 id=the-installation>The installation</h3><p>Jenkins installs as a service at windows, using only 4Mb of memory, starts and stops in some seconds, and offers a nice web admin interface. Just follow the install steps, copy the token data from the install file, and you are good to go. As we will use <a href=http://ant.apache.org/>apache ant</a> to write our scripts we will need to install it as well. Just <a href=http://ant.apache.org/bindownload.cgi>download the the zip version</a>, unzip and add the ant <strong>bin</strong> folder to the path. mine is at : C:\app\apache-ant-1.9.7\bin</p><h3 id=add-projects>Add projects</h3><p>For each of my automation needs I will add a separated Project on Jenkins, and each one will have a build step to run a ant script. So I will use one ant script for each task I want to acomplish. Use the option <strong>add new Item</strong>, choose <strong>FreeStyle project</strong> and click ok. <img src=/images/2016/12/jenkins-add-new-job.png alt> Now we setup what the job will do on <strong>Build</strong> option, choose <strong>Add build Step</strong> and pick <strong>Invoke Ant</strong> option. After that enter the ant file name on the option Build file. <img src=/images/2016/12/jenkins-set-ant-build-file.png alt> This is the ant file I am using for the backup</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&lt;project name=&#34;backup&#34; default=&#34;main&#34; basedir=&#34;.&#34;&gt;
</span></span><span class=line><span class=cl>   &lt;description&gt;full backup&lt;/description&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   &lt;target name=&#34;main&#34;&gt;
</span></span><span class=line><span class=cl>      &lt;copy todir=&#34;g:\\backup2016\\Documents&#34; 
</span></span><span class=line><span class=cl>         verbose=&#34;yes&#34; failonerror=&#34;false&#34; 
</span></span><span class=line><span class=cl>         preservelastmodified=&#34;yes&#34; force=&#34;yes&#34;&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         &lt;fileset dir=&#34;C:\\Users\\hamilton\\Documents&#34;/&gt;
</span></span><span class=line><span class=cl>      &lt;/copy&gt;
</span></span><span class=line><span class=cl>   &lt;/target&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;/project&gt;
</span></span></code></pre></div><p>See more details on ant tasks here: <a href=https://ant.apache.org/manual/tasksoverview.html>ant.apache.org/manual/tasksoverview.html</a></p><blockquote><p>If you don&rsquo;t add the <strong>failonerror=false</strong> and the backup starts when you using a file, the entire backup process will fail, using this it will fail only for your file.</p></blockquote><p>After that is saved you can test your job by navigating to the main jenkins interface and clicking to schdule a build for your new job. <img src=/images/2016/12/jenkins-schedule-now.png alt> Every run of the job, will be a link to the job run details, as you can see in the last failure column of the image with #1. When you click on the the details choose the console output option, that will show the results of the ant execution. <img src=/images/2016/12/jenkins-console-output.png alt></p><h3 id=schedule-your-jobs>Schedule your jobs</h3><p>Click on the job, choose the <strong>Configure</strong> option and <strong>Buid triggers</strong>, after that select <strong>Build periodically</strong>, and enter the magic crontab style string. If you click on the little help button there is very detailed help on how to write the scheduling string, for each hour I am using:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>H \* \* \* \*
</span></span></code></pre></div><p>Just save and you good to go.</p></div></div><div class=footer><div class=footer-social><span class="social-icon social-icon-twitter"><a href=https://twitter.com/athanazio title=twitter target=_blank rel=noopener><img src=/images/icons/twitter.svg width=24 height=24 alt=twitter>
</a></span><span class="social-icon social-icon-github"><a href=https://github.com/hamilton-lima title=github target=_blank rel=noopener><img src=/images/icons/github.svg width=24 height=24 alt=github>
</a></span><span class="social-icon social-icon-linkedin"><a href=https://www.linkedin.com/in/hamiltonlima title=linkedin target=_blank rel=noopener><img src=/images/icons/linkedin.svg width=24 height=24 alt=linkedin></a></span></div></div></div><script type=text/javascript src=/js/bundle.min.5993fcb11c07dea925a3fbd58c03c7f1857197c35fccce3aa963a12c0b3c9960.js></script></body></html>